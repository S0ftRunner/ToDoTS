(()=>{"use strict";const t=document.querySelector(".content"),e=new class Page{constructor(t){this.container=t,this._formContainer=this.container.querySelector(".todo-form-container"),this._todoContainer=this.container.querySelector(".todos__list")}set todoContainer(t){this._todoContainer.replaceChildren(...t)}set formContainer(t){t?this._formContainer.replaceChildren(t):this._formContainer.innerHTML=""}}(t),i=new class ToDoModel{constructor(){this._items=[]}set items(t){this._items=t}get items(){return this._items}addItem(t){const e=Math.max(...this._items.map((t=>Number(t.id))))+1,i={id:String(e),name:t};return this._items.push(i),i}removeItem(t){this._items=this._items.filter((e=>e.id!==t))}getItem(t){return this._items.find((e=>e.id===t))}};i.items=[{id:"1",name:"Сделать проектную работу"},{id:"2",name:"Полить цветы"},{id:"3",name:"Пройти туториал по Реакту"},{id:"4",name:"Сделать фронт для своего проекта"},{id:"5",name:"Погулять с собакой"},{id:"6",name:"Разобраться в замыканиях"},{id:"7",name:"Решить задачу на Codewars"}];const o=new class ItemPresenter{constructor(t,e,i,o){this.model=t,this.formConstuctor=e,this.viewPageContainer=i,this.viewItemConstructor=o,this.itemTemplate=document.querySelector("#todo-item-tempplate"),this.formTemplate=document.querySelector("#todo-form-template")}init(){this.todoForm=new this.formConstuctor(this.formTemplate),this.todoForm.setHandler(this.handleFormSubmit.bind(this)),this.viewPageContainer.formContainer=this.todoForm.render()}handleFormSubmit(t){this.model.addItem(t),this.renderView(),this.todoForm.clearValue()}handleCopyItem(t){const e=this.model.getItem(t.id);this.model.addItem(e.name),this.renderView()}renderView(){const t=this.model.items.map((t=>{const e=new this.viewItemConstructor(this.itemTemplate);e.setCopyHandler(this.handleCopyItem.bind(this));return e.render(t)})).reverse();this.viewPageContainer.todoContainer=t}}(i,class Form{constructor(t){this.formElement=t.content.querySelector(".todos__form").cloneNode(!0),this.inputField=this.formElement.querySelector(".todo-form__input"),this.submitButton=this.formElement.querySelector(".todo-form__submit-btn"),this.formElement.addEventListener("submit",(t=>{t.preventDefault(),this.handleFormSubmit(this.inputField.value)}))}setHandler(t){this.handleFormSubmit=t}render(){return this.formElement}setValue(t){this.inputField.value=t}getValue(){return this.inputField.value}clearValue(){this.formElement.reset()}set buttonText(t){this.submitButton.textContent=t}set placeholder(t){this.inputField.placeholder=t}},e,class Item{constructor(t){this.itemElement=t.content.querySelector(".todo-item").cloneNode(!0),this.title=this.itemElement.querySelector(".todo-item__text"),this.copyButton=this.itemElement.querySelector(".todo-item__copy")}get id(){return this._id||""}set id(t){this._id=t}get name(){return this.title.textContent||""}set name(t){this.title.textContent=t}setCopyHandler(t){this.handleCopyItem=t,this.copyButton.addEventListener("click",(t=>{this.handleCopyItem(this)}))}render(t){return this.name=t.name,this.id=t.id,this.itemElement}});o.init(),o.renderView()})();
//# sourceMappingURL=main.js.map